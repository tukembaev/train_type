import{C as y,r as j,D as N,E as P,F as S,G as _,I as b,j as s,B as c,f as d,J as r,d as o,y as q,z as R,L as v}from"./index-f83965a3.js";const L=async a=>{let e={};return a.username||(e={...e,username:{type:"required",message:"username is required"}}),a.password?a.password.length<6&&(e={...e,password:{type:"minLength",message:"password must be at least 6 characters long"}}):e={...e,password:{type:"required",message:"password is required"}},a.verifyPassword?a.verifyPassword!==a.password&&(e={...e,verifyPassword:{type:"match",message:"Passwords do not match."}}):e={...e,verifyPassword:{type:"required",message:"verify password is required"}},{values:a,errors:e}},U=()=>{const{register:a,handleSubmit:e,reset:l,formState:{errors:t,isSubmitting:p}}=y({resolver:L}),[m,u]=j.useState(!1),{refetch:g}=N(""),{refetch:w}=P(""),[h]=S(),[f]=_(),x=e(async n=>{try{const i=b(3);h({id:i,username:n.username,password:n.password}),await f({id:i,username:n.username}),u(!0),g(),w(),l()}catch(i){console.error("Registration error:",i)}});return s.jsx("form",{onSubmit:x,children:s.jsxs(c,{flex:d.COLUMN,className:r.wrapper,children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("h4",{children:"register"}),m?s.jsx("span",{style:{color:"green"},children:"account created"}):null]}),s.jsxs("span",{className:r.description,children:["username"," ",t.username?s.jsxs("p",{className:r.error_message,children:["(",t.username.message,")"," "]}):null]}),s.jsx("input",{...a("username"),placeholder:"username",className:o(r.input,{},[t.username?r.error_detected:""])}),s.jsxs("span",{className:r.description,children:["password"," ",t.password?s.jsxs("p",{className:r.error_message,children:["(",t.password.message,")"," "]}):null]}),s.jsx("input",{...a("password"),placeholder:"password",type:"password",className:o(r.input,{},[t.password?r.error_detected:""])}),s.jsxs("span",{className:r.description,children:["confirm password"," ",t.verifyPassword?s.jsxs("p",{className:r.error_message,children:["(",t.verifyPassword.message,")"," "]}):null]}),s.jsx("input",{...a("verifyPassword",{required:"Password is required",minLength:{value:6,message:"Password must be at least 10 characters"}}),type:"password",placeholder:"verify password",className:o(r.input,{},[t.verifyPassword?r.error_detected:""])}),s.jsx(q,{type:"submit",theme:R.BACKGROUND,disabled:p,children:"Sign Up"})]})})},B="LoginPage-module__wrapper__DDbYN",D={wrapper:B},G=()=>s.jsxs(c,{flex:d.ROW,className:o(D.wrapper,{},[]),children:[s.jsx(U,{}),s.jsx(v,{})]});export{G as default};
